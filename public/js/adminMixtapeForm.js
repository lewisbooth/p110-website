"use strict";var form=document.querySelector(".dashboard__edit-article"),titleInput=form.querySelector('input[name="title"]'),artistsInput=form.querySelector('input[name="artists"]'),descriptionInput=form.querySelector('textarea[name="description"]'),releaseDateInput=form.querySelector('input[name="releaseDate"]'),publishedInput=form.querySelector('input[name="published"]'),zipInput=form.querySelector('input[name="zip"]'),artworkInput=form.querySelector('input[name="coverImage"]'),artworkImage=form.querySelector(".dashboard__edit-mixtape--artwork"),defaultArtwork=artworkImage.src;function submitForm(e){e.preventDefault();var r=new FormData;r.append("title",titleInput.value),r.append("artists",artistsInput.value),r.append("description",descriptionInput.value),r.append("published","on"===publishedInput.value),r.append("releaseDate",releaseDateInput.value),zipInput.files&&zipInput.files[0]&&r.append("zip",zipInput.files[0]),artworkInput.files&&artworkInput.files[0]&&r.append("artwork",artworkInput.files[0]),axios.post(window.location.href,r).then(function(e){window.location="/admin/mixtapes"}).catch(function(e){console.log(e),errorFlash([e.response.data.error])})}function errorFlash(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];formErrors.innerHTML="",0!==e.length&&"undefined"!==e[0]||(e=["An error occurred, please try again"]),console.log(e),e.forEach(function(e){var r=document.createElement("p");r.innerText=e,formErrors.appendChild(r)})}form.addEventListener("submit",function(e){submitForm(e)}),artworkInput.addEventListener("change",function(e){if(artworkInput.files&&artworkInput.files[0]){var r=new FileReader;r.onload=function(e){artworkImage.src=e.target.result,artworkImage.classList.remove("hidden")},r.readAsDataURL(artworkInput.files[0])}else artworkImage.src=defaultArtwork});