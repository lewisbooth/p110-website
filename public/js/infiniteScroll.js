"use strict";var errorMessage=document.querySelector(".form-errors"),rootNode=document.getElementById("infinite-scroll"),footer=document.querySelector("footer"),TRIGGER_OFFSET=500,DEBOUNCE=300;document.addEventListener("scroll",getPosts);var triggerPoint=function(){return document.body.scrollHeight-footer.offsetHeight-TRIGGER_OFFSET},scrollLocation=function(){return window.scrollY+window.innerHeight},readyForPosts=function(){return!fetchingPosts&&scrollLocation()>triggerPoint()},nodeCount=function(){return rootNode.childNodes.length},fetchingPosts=!1;function getPosts(){readyForPosts()&&(fetchingPosts=!0,axios.post(window.location,{from:nodeCount()}).then(function(o){rootNode.innerHTML+=o.data.html,errorMessage.classList.add("hidden")}).catch(function(o){console.log(o),errorMessage.classList.remove("hidden")}).finally(function(){setTimeout(function(){fetchingPosts=!1},DEBOUNCE)}))}