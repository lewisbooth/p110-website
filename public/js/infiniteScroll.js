"use strict";var errorMessage=document.querySelector(".form-errors"),rootNode=document.querySelector("#infinite-scroll"),footer=document.querySelector("footer");document.addEventListener("scroll",infiniteScroll);var TRIGGER_OFFSET=500,DEBOUNCE=300,fetchingPosts=!1,triggerPoint=function(){return footer.offsetTop-TRIGGER_OFFSET},scrollPosition=function(){return window.scrollY+window.innerHeight},readyForPosts=function(){return!fetchingPosts&&scrollPosition()>triggerPoint()},nodeCount=function(){return rootNode.childNodes.length};function infiniteScroll(){readyForPosts()&&(fetchingPosts=!0,axios.post(window.location,{from:nodeCount()}).then(function(o){rootNode.innerHTML+=o.data.html,errorMessage.classList.add("hidden")}).catch(function(o){console.log(o),errorMessage.classList.remove("hidden")}).finally(function(){setTimeout(function(){fetchingPosts=!1},DEBOUNCE)}))}